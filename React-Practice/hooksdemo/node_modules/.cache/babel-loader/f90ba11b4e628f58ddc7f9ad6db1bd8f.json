{"ast":null,"code":"import _slicedToArray from \"/home/user/Assignments-Zemoso/React-Practice/hooksdemo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/user/Assignments-Zemoso/React-Practice/hooksdemo/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Container, TextField, Toolbar, Button, AppBar } from '@material-ui/core';\nimport { VictoryChart, VictoryLine } from 'victory';\nimport './App.css';\nimport auth from './firebase/manager';\nimport useDebounce from './debounce';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexDirection: 'column',\n    alignItems: 'center',\n    overflow: 'hidden',\n    margin: 16\n  },\n  gridList: {\n    width: 500,\n    height: 450\n  },\n  searchLabel: {\n    margin: 8\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  }\n}));\n\nfunction App() {\n  let _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      stock = _useState2[0],\n      setStock = _useState2[1];\n\n  let _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      intrest = _useState4[0],\n      setIntrest = _useState4[1];\n\n  const debouncedSearchTerm = useDebounce(intrest, 500);\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isSearching = _useState6[0],\n        setIsSearching = _useState6[1];\n\n  const classes = useStyles();\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch(\"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=\".concat(debouncedSearchTerm, \"&interval=1min&apikey=S9C3XDXUHXF2Q4BB\"));\n      const data = await response.json();\n      if ('Time Series (1min)' in data) setStock(data);\n    }\n\n    if (debouncedSearchTerm) {\n      setIsSearching(true);\n      fetchData().then(() => setIsSearching(false));\n    }\n\n    return function cleanup() {\n      setStock(null);\n    };\n  }, [debouncedSearchTerm]);\n\n  function transformData(column) {\n    return Object.keys(stock['Time Series (1min)']).map(key => {\n      return {\n        x: new Date(key),\n        y: parseFloat(stock['Time Series (1min)'][key][column])\n      };\n    });\n  }\n\n  function handleIntrestChange(event) {\n    setIntrest(event.target.value.toUpperCase());\n  }\n\n  return React.createElement(Container, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"static\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    display: \"flex\",\n    flexStart: \"end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"default\",\n    onClick: auth.signOut(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Logout\"))), React.createElement(TextField, {\n    required: true,\n    id: \"outlined-required\",\n    label: \"Stock Code\",\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: intrest,\n    onChange: handleIntrestChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), stock && !isSearching ? React.createElement(VictoryChart, {\n    data: transformData('1. open'),\n    height: 250,\n    scale: {\n      x: \"time\"\n    },\n    animate: {\n      duration: 5000,\n      onLoad: {\n        duration: 100\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(VictoryLine, {\n    interpolation: \"linear\",\n    data: transformData('1. open'),\n    style: {\n      data: {\n        stroke: \"#c43a31\",\n        strokeWidth: 1\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(VictoryLine, {\n    interpolation: \"linear\",\n    data: transformData('2. high'),\n    style: {\n      data: {\n        stroke: \"#D6D60C\",\n        strokeWidth: 1\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(VictoryLine, {\n    interpolation: \"linear\",\n    data: transformData('3. low'),\n    style: {\n      data: {\n        stroke: \"#789394\",\n        strokeWidth: 1\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    className: classes.searchLabel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \" Enter a valid term to Search\"));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/user/Assignments-Zemoso/React-Practice/hooksdemo/src/App.js"],"names":["React","useState","useEffect","makeStyles","Container","TextField","Toolbar","Button","AppBar","VictoryChart","VictoryLine","auth","useDebounce","useStyles","theme","root","display","flexWrap","flexDirection","alignItems","overflow","margin","gridList","width","height","searchLabel","textField","marginLeft","spacing","marginRight","App","stock","setStock","intrest","setIntrest","debouncedSearchTerm","isSearching","setIsSearching","classes","fetchData","response","fetch","data","json","then","cleanup","transformData","column","Object","keys","map","key","x","Date","y","parseFloat","handleIntrestChange","event","target","value","toUpperCase","signOut","duration","onLoad","stroke","strokeWidth"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {Container, TextField, Toolbar,Button,AppBar} from '@material-ui/core';\nimport {VictoryChart,VictoryLine} from 'victory';\nimport './App.css';\nimport auth from './firebase/manager'\nimport useDebounce from './debounce'\n\n\nconst useStyles = makeStyles(theme => \n  ({\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flexDirection: 'column',\n      alignItems:'center',\n      overflow: 'hidden',\n      margin: 16\n    },\n    gridList: {\n      width: 500,\n      height: 450,\n    },\n    searchLabel:\n    {\n      margin:8,\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    }\n  }))\n\n\nfunction App() {\n  let [stock,setStock] = useState(null);\n  let [intrest,setIntrest] = useState('')\n  const debouncedSearchTerm = useDebounce(intrest, 500);\n  const [isSearching, setIsSearching] = useState(false);\n  \n  const classes = useStyles();\n\n  useEffect(()=>\n  {\n    async function fetchData()\n    {\n     \n        const response = await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${debouncedSearchTerm}&interval=1min&apikey=S9C3XDXUHXF2Q4BB`);\n        const data = await response.json();\n        if('Time Series (1min)' in data)\n          setStock(data);\n    }\n    if(debouncedSearchTerm)\n    {\n      setIsSearching(true);\n      fetchData().then(()=>setIsSearching(false))\n    }\n\n    return function cleanup()\n    {\n      setStock(null);\n    }\n  },[debouncedSearchTerm])\n\n\n  function transformData(column)\n  {\n      return Object.keys(stock['Time Series (1min)']).map(key=>{return {x: new Date(key),y:parseFloat(stock['Time Series (1min)'][key][column]) };});\n  }\n\n  function handleIntrestChange(event)\n  {\n    setIntrest(event.target.value.toUpperCase());\n  }\n  \n  return (\n    <Container className={classes.root}>\n    <AppBar position=\"static\">\n      <Toolbar display=\"flex\" flexStart=\"end\">\n        <Button color=\"default\" onClick={auth.signOut()}>\n          Logout\n        </Button>\n      </Toolbar>\n    </AppBar>\n       <TextField\n        required\n        id=\"outlined-required\"\n        label=\"Stock Code\"\n        className={classes.textField}\n        margin=\"normal\"\n        variant=\"outlined\"\n        value={intrest}\n        onChange={handleIntrestChange}\n      />\n      {\n      stock && !isSearching ? \n      <VictoryChart data={transformData('1. open')} height={250} scale={{ x: \"time\" }} animate={{\n        duration: 5000,\n        onLoad: { duration: 100 }\n      }} >\n        <VictoryLine \n        interpolation=\"linear\"\n        data={transformData('1. open')}  \n        style={{data: {stroke: \"#c43a31\", strokeWidth: 1}}}\n        />\n        <VictoryLine \n        interpolation=\"linear\"\n        data={transformData('2. high')}  \n        style={{data: {stroke: \"#D6D60C\", strokeWidth: 1}}}\n        />\n        <VictoryLine \n        interpolation=\"linear\"\n        data={transformData('3. low')}  \n        style={{data: {stroke: \"#789394\", strokeWidth: 1}}}\n        />\n    </VictoryChart> : <div className={classes.searchLabel}> Enter a valid term to Search</div>\n      }\n    </Container>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}