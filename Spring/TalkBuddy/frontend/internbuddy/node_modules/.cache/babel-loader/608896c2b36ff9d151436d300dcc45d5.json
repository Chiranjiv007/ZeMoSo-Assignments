{"ast":null,"code":"var _jsxFileName = \"/home/user/Assignments-Zemoso/Spring/TalkBuddy/frontend/internbuddy/src/App.js\";\nimport React, { Component } from 'react';\nimport MyForm from './Forms/BasicForms.js';\nimport Intern from './Models/Intern.js';\nimport { Table, Button } from './Layout/BaseLayout.js';\nimport { auth, startFirebaseUI } from './Login/firebase.js';\nimport logo from \"./logo.svg\";\nconst largeColumn = {\n  width: '40%'\n};\nconst midColumn = {\n  width: '30%'\n};\nconst smallColumn = {\n  width: '10%'\n};\n\nclass App extends Component {\n  async componentDidMount() {\n    if (this.state.user) {\n      const response = await fetch('/api/interns/', {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: this.state.user.uid\n      });\n      const body = await response.json();\n      this.setState({\n        interns: body,\n        isLoading: false,\n        addUI: false\n      });\n      console.log(this.state.interns);\n    }\n\n    auth.onAuthStateChanged(this.handleLogin);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      isLoading: true,\n      interns: [],\n      addUI: false,\n      addTaskUI: false\n    };\n    this.onDismiss = this.onDismiss.bind(this);\n    this.addIntern = this.addIntern.bind(this);\n    this.refreshUI = this.refreshUI.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.addTask = this.addTask.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.timer = setInterval(this.refreshUI, 5000);\n\n    this.logout = () => {\n      auth.signOut();\n    };\n  }\n\n  handleLogin(u) {\n    this.setState({\n      user: u\n    });\n    if (u == null) startFirebaseUI(\"#firebaseui-auth-container\");\n  }\n\n  onDismiss(id) {\n    const isNotId = item => item.id !== id;\n\n    const updatedInterns = this.state.interns.filter(isNotId);\n    this.setState({\n      interns: updatedInterns\n    });\n  }\n\n  async refreshUI(event) {\n    if (this.state.user == null) return null;\n    if (event) event.preventDefault();\n    const response = await fetch('/api/interns/');\n    const body = await response.json();\n    this.setState({\n      interns: body,\n      isLoading: false,\n      addUI: false,\n      addTaskUI: false\n    });\n  }\n\n  addIntern() {\n    this.setState({\n      addUI: true\n    });\n  }\n\n  addTask() {\n    this.setState({\n      addTaskUI: true\n    });\n  }\n\n  onDelete(id) {\n    fetch('/api/interns/removeintern/' + id, {\n      method: 'DELETE'\n    }).then(this.onDismiss(id));\n  }\n\n  render() {\n    const _this$state = this.state,\n          interns = _this$state.interns,\n          isLoading = _this$state.isLoading,\n          addUI = _this$state.addUI,\n          addTaskUI = _this$state.addTaskUI,\n          isLoggedIn = _this$state.isLoggedIn;\n    console.log(this.state.user);\n\n    if (this.state.user !== null) {\n      if (addUI) {\n        return React.createElement(MyForm, {\n          callBack: this.refreshUI,\n          submiturl: \"/api/interns/createintern\",\n          fields: [\"name\", \"rating\"],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n      }\n\n      if (addTaskUI) {\n        return React.createElement(MyForm, {\n          callBack: this.refreshUI,\n          submiturl: \"/api/tasks/add_task\",\n          fields: [\"taskName\", \"description\"],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \" \", this.state.user.email, \" \"), React.createElement(\"div\", {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"button-inline\",\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Logout\")), React.createElement(\"div\", {\n        className: \"table-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: largeColumn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"button-inline\",\n        onClick: this.addIntern,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Add Interns\")), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"button-inline\",\n        onClick: this.addTask,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \" Add a Task \"))), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Interns List\"), React.createElement(\"div\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: largeColumn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \" Name \"), React.createElement(\"span\", {\n        style: largeColumn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \" Rating \"), React.createElement(\"span\", {\n        style: largeColumn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \" Tasks \")), React.createElement(Table, {\n        list: interns,\n        onDelete: this.onDelete,\n        callBack: this.refreshUI,\n        tag: Intern,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"firebaseui-auth-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/user/Assignments-Zemoso/Spring/TalkBuddy/frontend/internbuddy/src/App.js"],"names":["React","Component","MyForm","Intern","Table","Button","auth","startFirebaseUI","largeColumn","width","midColumn","smallColumn","App","componentDidMount","state","user","response","fetch","method","headers","body","uid","json","setState","interns","isLoading","addUI","console","log","onAuthStateChanged","handleLogin","constructor","props","addTaskUI","onDismiss","bind","addIntern","refreshUI","onDelete","addTask","timer","setInterval","logout","signOut","u","id","isNotId","item","updatedInterns","filter","event","preventDefault","then","render","isLoggedIn","email"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport MyForm from './Forms/BasicForms.js'\nimport Intern from './Models/Intern.js'\nimport {Table,Button} from'./Layout/BaseLayout.js'\nimport { auth, startFirebaseUI  } from './Login/firebase.js'\nimport logo from './logo.svg';\n\n\n\nconst largeColumn = {width:'40%',};\nconst midColumn = {width:'30%',};\nconst smallColumn = {width:'10%'};\n\n\n\n\nclass App extends Component\n{\n    state={\n        user:null,\n        isLoading: true,\n        interns:[],\n        addUI:false,\n        addTaskUI:false,\n\n    };\n\n\n    async componentDidMount()\n    {\n        if(this.state.user){\n        const response = await fetch('/api/interns/',{\n         method: 'GET',\n               headers: {\n                 'Accept': 'application/json',\n                 'Content-Type': 'application/json',\n               },\n               body:this.state.user.uid\n         })\n        const body = await response.json()\n        this.setState({interns:body,isLoading:false,addUI:false});\n        console.log(this.state.interns);\n        }\n        auth.onAuthStateChanged(this.handleLogin);\n    }\n\n    constructor(props)\n    {\n        super(props);\n        this.onDismiss = this.onDismiss.bind(this);\n        this.addIntern = this.addIntern.bind(this);\n        this.refreshUI = this.refreshUI.bind(this);\n        this.onDelete = this.onDelete.bind(this);\n        this.addTask = this.addTask.bind(this);\n        this.handleLogin =  this.handleLogin.bind(this);\n        this.timer = setInterval(this.refreshUI,5000)\n        this.logout = () => { auth.signOut()}\n    }\n\n    handleLogin(u)\n    {\n         this.setState({user:u});\n         if(u==null)\n            startFirebaseUI(\"#firebaseui-auth-container\");\n    }\n\n    onDismiss(id)\n      {\n        const isNotId = item => item.id !== id;\n        const updatedInterns = this.state.interns.filter(isNotId);\n        this.setState({\n                interns:updatedInterns\n            }\n        );\n      }\n\n    async refreshUI(event)\n    {\n       if(this.state.user==null)\n            return null;\n       if(event)\n        event.preventDefault();\n       const response = await fetch('/api/interns/')\n       const body = await response.json()\n       this.setState({interns:body,isLoading:false,addUI:false,addTaskUI:false});\n    }\n\n    addIntern()\n    {\n       this.setState({addUI:true})\n    }\n\n    addTask()\n    {\n        this.setState({addTaskUI:true})\n    }\n\n    onDelete(id)\n    {\n        fetch('/api/interns/removeintern/'+id,{method:'DELETE'}).then(this.onDismiss(id));\n    }\n\n    render()\n    {\n\n\n\n\n        const {interns,isLoading,addUI,addTaskUI,isLoggedIn}=this.state;\n        console.log(this.state.user);\n        if(this.state.user!==null){\n        if(addUI)\n        {\n            return (\n                <MyForm callBack={this.refreshUI} submiturl=\"/api/interns/createintern\" fields={[\"name\",\"rating\"]}/>\n                )\n        }\n\n        if(addTaskUI)\n        {\n            return <MyForm callBack={this.refreshUI} submiturl=\"/api/tasks/add_task\" fields={[\"taskName\",\"description\"]} />\n        }\n\n        return (\n\n                 <div className=\"page\">\n                 <div align=\"right\"> {this.state.user.email} </div>\n                 <div align=\"right\"><Button className=\"button-inline\" onClick={this.logout}>Logout</Button></div>\n                 <div className=\"table-header\">\n                 <span style={largeColumn}>\n                 <Button className=\"button-inline\" onClick={this.addIntern}>Add Interns</Button>\n                 </span>\n                 <span>\n                 <Button className=\"button-inline\" onClick={this.addTask}> Add a Task </Button>\n                 </span>\n                 </div>\n                    <h2>Interns List</h2>\n                    <div className=\"table\">\n                        <div className=\"table-header\">\n                            <span style={largeColumn}> Name </span>\n                            <span style={largeColumn}> Rating </span>\n                            <span style={largeColumn}> Tasks </span>\n                        </div>\n                        {\n                        <Table list={interns} onDelete={this.onDelete} callBack={this.refreshUI} tag={Intern} />\n                        }\n                    </div>\n                 </div>\n\n            );\n        }\n        else\n        {\n            return <div id=\"firebaseui-auth-container\"></div>\n        }\n    }\n\n}\n\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}